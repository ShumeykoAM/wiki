<?xml version="1.0" encoding="UTF-8"?>
<topic template="Default" lasteditedby="Kot" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../helpproject.xsd">
  <title translate="true">Лямбда функции_2</title>
  <body>
    <header>
      <para styleclass="Heading1"><text styleclass="Heading1" translate="true">Лямбда функции</text></para>
    </header>
    <para styleclass="Normal" style="text-indent:0px; margin-right:0px; margin-left:15px; tabstops:none;"><text style="font-family:Consolas; font-size:12pt; color:#008000;" translate="true">//Лябда функции это более компактные классы - функторы с перегруженным оператором ()</text></para>
    <para styleclass="Normal" style="text-indent:0px; margin-right:0px; margin-left:15px; tabstops:none;"></para>
    <para styleclass="Normal" style="text-indent:0px; margin-right:0px; margin-left:15px; tabstops:none;"><text style="font-family:Consolas; font-size:12pt; color:#008000;" translate="true">//Описываем шаблон функции которая может принимать в качестве </text></para>
    <para styleclass="Normal" style="text-indent:0px; margin-right:0px; margin-left:15px; tabstops:none;"><text style="font-family:Consolas; font-size:12pt; color:#008000;" translate="true">//  параметра функцию или функтор или ЛЯМБДА ФУНКЦИЮ (как например функция std::sort)</text></para>
    <para styleclass="Normal" style="text-indent:0px; margin-right:0px; margin-left:15px; tabstops:none;"><text style="font-family:Consolas; font-size:12pt; color:#0000ff;" translate="true">template</text><text style="font-family:Consolas; font-size:12pt; color:#000000;" translate="true">&lt;</text><text style="font-family:Consolas; font-size:12pt; color:#0000ff;" translate="true">class</text><text style="font-family:Consolas; font-size:12pt; color:#000000;" translate="true"> </text><text style="font-family:Consolas; font-size:12pt; color:#0080c8;" translate="true">L</text><text style="font-family:Consolas; font-size:12pt; color:#000000;" translate="true">&gt;</text></para>
    <para styleclass="Normal" style="text-indent:0px; margin-right:0px; margin-left:15px; tabstops:none;"><text style="font-family:Consolas; font-size:12pt; color:#0000ff;" translate="true">void</text><text style="font-family:Consolas; font-size:12pt; color:#000000;" translate="true"> </text><text style="font-family:Consolas; font-size:12pt; color:#880000;" translate="true">f</text><text style="font-family:Consolas; font-size:12pt; color:#000000;" translate="true">(</text><text style="font-family:Consolas; font-size:12pt; color:#0000ff;" translate="true">int</text><text style="font-family:Consolas; font-size:12pt; color:#000000;" translate="true"> </text><text style="font-family:Consolas; font-size:12pt; font-weight:bold; color:#808080;" translate="true">x</text><text style="font-family:Consolas; font-size:12pt; color:#000000;" translate="true">, </text><text style="font-family:Consolas; font-size:12pt; color:#0080c8;" translate="true">L</text><text style="font-family:Consolas; font-size:12pt; color:#000000;" translate="true"> &amp;</text><text style="font-family:Consolas; font-size:12pt; font-weight:bold; color:#808080;" translate="true">l</text><text style="font-family:Consolas; font-size:12pt; color:#000000;" translate="true"> )</text></para>
    <para styleclass="Normal" style="text-indent:0px; margin-right:0px; margin-left:15px; tabstops:none;"><text style="font-family:Consolas; font-size:12pt; color:#000000;" translate="true">{</text></para>
    <para styleclass="Normal" style="text-indent:0px; margin-right:0px; margin-left:15px; tabstops:none;"><text style="font-family:Consolas; font-size:12pt; color:#000000;" translate="true">  </text><text style="font-family:Consolas; font-size:12pt; color:#0000ff;" translate="true">bool</text><text style="font-family:Consolas; font-size:12pt; color:#000000;" translate="true"> </text><text style="font-family:Consolas; font-size:12pt; font-weight:bold; color:#808080;" translate="true">res</text><text style="font-family:Consolas; font-size:12pt; color:#000000;" translate="true"> = </text><text style="font-family:Consolas; font-size:12pt; font-weight:bold; color:#808080;" translate="true">l</text><text style="font-family:Consolas; font-size:12pt; color:#000000;" translate="true">(</text><text style="font-family:Consolas; font-size:12pt; font-weight:bold; color:#808080;" translate="true">x</text><text style="font-family:Consolas; font-size:12pt; color:#000000;" translate="true">);</text></para>
    <para styleclass="Normal" style="text-indent:0px; margin-right:0px; margin-left:15px; tabstops:none;"><text style="font-family:Consolas; font-size:12pt; color:#000000;" translate="true">}</text></para>
    <para styleclass="Normal" style="text-indent:0px; margin-right:0px; margin-left:15px; tabstops:none;"></para>
    <para styleclass="Normal" style="text-indent:0px; margin-right:0px; margin-left:15px; tabstops:none;"><text style="font-family:Consolas; font-size:12pt; color:#008000;" translate="true">//Пример</text></para>
    <para styleclass="Normal" style="text-indent:0px; margin-right:0px; margin-left:15px; tabstops:none;"><text style="font-family:Consolas; font-size:12pt; color:#0000ff;" translate="true">void</text><text style="font-family:Consolas; font-size:12pt; color:#000000;" translate="true"> </text><text style="font-family:Consolas; font-size:12pt; color:#880000;" translate="true">main</text><text style="font-family:Consolas; font-size:12pt; color:#000000;" translate="true">()</text></para>
    <para styleclass="Normal" style="text-indent:0px; margin-right:0px; margin-left:15px; tabstops:none;"><text style="font-family:Consolas; font-size:12pt; color:#000000;" translate="true">{</text></para>
    <para styleclass="Normal" style="text-indent:0px; margin-right:0px; margin-left:15px; tabstops:none;"><text style="font-family:Consolas; font-size:12pt; color:#000000;" translate="true">  </text><text style="font-family:Consolas; font-size:12pt; color:#0000ff;" translate="true">int</text><text style="font-family:Consolas; font-size:12pt; color:#000000;" translate="true"> </text><text style="font-family:Consolas; font-size:12pt; font-weight:bold; color:#808080;" translate="true">count</text><text style="font-family:Consolas; font-size:12pt; color:#000000;" translate="true"> = 0; </text><text style="font-family:Consolas; font-size:12pt; color:#008000;" translate="true">//Внешняя для лямбда функции переменная</text></para>
    <para styleclass="Normal" style="text-indent:0px; margin-right:0px; margin-left:15px; tabstops:none;"><text style="font-family:Consolas; font-size:12pt; color:#000000;" translate="true">  </text><text style="font-family:Consolas; font-size:12pt; color:#008000;" translate="true">//Вызываем функцию принимающую в параметре лямбда выражение</text></para>
    <para styleclass="Normal" style="text-indent:0px; margin-right:0px; margin-left:15px; tabstops:none;"><text style="font-family:Consolas; font-size:12pt; color:#000000;" translate="true">  </text><text style="font-family:Consolas; font-size:12pt; color:#880000;" translate="true">f</text><text style="font-family:Consolas; font-size:12pt; color:#000000;" translate="true">(45,</text></para>
    <para styleclass="Normal" style="text-indent:0px; margin-right:0px; margin-left:15px; tabstops:none;"></para>
    <para styleclass="Normal" style="text-indent:0px; margin-right:0px; margin-left:15px; tabstops:none;"><text style="font-family:Consolas; font-size:12pt; color:#000000;" translate="true">    </text><text style="font-family:Consolas; font-size:12pt; color:#008000;" translate="true">//Ниже вместо функтора или указателя на функцию мы определяем лямбда функцию</text></para>
    <para styleclass="Normal" style="text-indent:0px; margin-right:0px; margin-left:15px; tabstops:none;"><text style="font-family:Consolas; font-size:12pt; color:#000000;" translate="true">    </text><text style="font-family:Consolas; font-size:12pt; color:#008000;" translate="true">//[захватываемые внешние переменные](параметры) -&gt; ТИП   возвращяемого значения</text></para>
    <para styleclass="Normal" style="text-indent:0px; margin-right:0px; margin-left:15px; tabstops:none;"><text style="font-family:Consolas; font-size:12pt; color:#000000;" translate="true">    [&amp;</text><text style="font-family:Consolas; font-size:12pt; font-weight:bold; color:#808080;" translate="true">count</text><text style="font-family:Consolas; font-size:12pt; color:#000000;" translate="true">](</text><text style="font-family:Consolas; font-size:12pt; color:#0000ff;" translate="true">int</text><text style="font-family:Consolas; font-size:12pt; color:#000000;" translate="true"> </text><text style="font-family:Consolas; font-size:12pt; font-weight:bold; color:#808080;" translate="true">x</text><text style="font-family:Consolas; font-size:12pt; color:#000000;" translate="true">) -&gt; </text><text style="font-family:Consolas; font-size:12pt; color:#0000ff;" translate="true">bool</text><text style="font-family:Consolas; font-size:12pt; color:#000000;" translate="true"> </text><text style="font-family:Consolas; font-size:12pt; color:#008000;" translate="true">// еcли -&gt; ТИП    не указывать то возвращаемое значение void</text></para>
    <para styleclass="Normal" style="text-indent:0px; margin-right:0px; margin-left:15px; tabstops:none;"><text style="font-family:Consolas; font-size:12pt; color:#000000;" translate="true">    {</text></para>
    <para styleclass="Normal" style="text-indent:0px; margin-right:0px; margin-left:15px; tabstops:none;"><text style="font-family:Consolas; font-size:12pt; color:#000000;" translate="true">      </text><text style="font-family:Consolas; font-size:12pt; color:#008000;" translate="true">//Тело лямбда функции такое же как и обычная функция</text></para>
    <para styleclass="Normal" style="text-indent:0px; margin-right:0px; margin-left:15px; tabstops:none;"><text style="font-family:Consolas; font-size:12pt; color:#000000;" translate="true">      </text><text style="font-family:Consolas; font-size:12pt; font-weight:bold; color:#808080;" translate="true">count</text><text style="font-family:Consolas; font-size:12pt; color:#000000;" translate="true">++;</text></para>
    <para styleclass="Normal" style="text-indent:0px; margin-right:0px; margin-left:15px; tabstops:none;"><text style="font-family:Consolas; font-size:12pt; color:#000000;" translate="true">      </text><text style="font-family:Consolas; font-size:12pt; color:#0000ff;" translate="true">return</text><text style="font-family:Consolas; font-size:12pt; color:#000000;" translate="true"> </text><text style="font-family:Consolas; font-size:12pt; color:#0000ff;" translate="true">true</text><text style="font-family:Consolas; font-size:12pt; color:#000000;" translate="true">;</text></para>
    <para styleclass="Normal" style="text-indent:0px; margin-right:0px; margin-left:15px; tabstops:none;"><text style="font-family:Consolas; font-size:12pt; color:#000000;" translate="true">    }</text></para>
    <para styleclass="Normal" style="text-indent:0px; margin-right:0px; margin-left:15px; tabstops:none;"></para>
    <para styleclass="Normal" style="text-indent:0px; margin-right:0px; margin-left:15px; tabstops:none;"><text style="font-family:Consolas; font-size:12pt; color:#000000;" translate="true">  );</text></para>
    <para styleclass="Normal" style="text-indent:0px; margin-right:0px; margin-left:15px; tabstops:none;"><text style="font-family:Consolas; font-size:12pt; color:#000000;" translate="true">}</text></para>
    <para styleclass="Normal" style="text-indent:0px; margin-right:0px; margin-left:15px; tabstops:none;"></para>
    <para styleclass="Normal" style="text-indent:0px; margin-right:0px; margin-left:15px; tabstops:none;"><text style="font-family:Consolas; font-size:12pt; color:#008000;" translate="true">/*</text></para>
    <para styleclass="Normal" style="text-indent:0px; margin-right:0px; margin-left:15px; tabstops:none;"><text style="font-family:Consolas; font-size:12pt; color:#008000;" translate="true">Возможные варианты захвата переменных из внешней области памяти</text></para>
    <para styleclass="Normal" style="text-indent:0px; margin-right:0px; margin-left:15px; tabstops:none;"><text style="font-family:Consolas; font-size:12pt; color:#008000;" translate="true">[]      // Без захвата переменных</text></para>
    <para styleclass="Normal" style="text-indent:0px; margin-right:0px; margin-left:15px; tabstops:none;"><text style="font-family:Consolas; font-size:12pt; color:#008000;" translate="true">[=]     // Все переменные захвачены по значению</text></para>
    <para styleclass="Normal" style="text-indent:0px; margin-right:0px; margin-left:15px; tabstops:none;"><text style="font-family:Consolas; font-size:12pt; color:#008000;" translate="true">[&amp;]     // Все переменные захвачены по ссылке</text></para>
    <para styleclass="Normal" style="text-indent:0px; margin-right:0px; margin-left:15px; tabstops:none;"><text style="font-family:Consolas; font-size:12pt; color:#008000;" translate="true">[x,y]   // Захват x и y по значению</text></para>
    <para styleclass="Normal" style="text-indent:0px; margin-right:0px; margin-left:15px; tabstops:none;"><text style="font-family:Consolas; font-size:12pt; color:#008000;" translate="true">[&amp;x,&amp;y] // Захват x и y по ссылке</text></para>
    <para styleclass="Normal" style="text-indent:0px; margin-right:0px; margin-left:15px; tabstops:none;"><text style="font-family:Consolas; font-size:12pt; color:#008000;" translate="true">[x,&amp;y]  // Захват x по значению а y по ссылке</text></para>
    <para styleclass="Normal" style="text-indent:0px; margin-right:0px; margin-left:15px; tabstops:none;"><text style="font-family:Consolas; font-size:12pt; color:#008000;" translate="true">[=,&amp;x]  // Все переменные захвачены по значению а x по ссылке</text></para>
    <para styleclass="Normal" style="text-indent:0px; margin-right:0px; margin-left:15px; tabstops:none;"><text style="font-family:Consolas; font-size:12pt; color:#008000;" translate="true">[&amp;,x]   // Все переменные захвачены по ссылке а x по значению</text></para>
    <para styleclass="Normal" style="text-indent:0px; margin-right:0px; margin-left:15px; tabstops:none;"><text style="font-family:Consolas; font-size:12pt; color:#008000;" translate="true">*/</text></para>
  </body>
</topic>
