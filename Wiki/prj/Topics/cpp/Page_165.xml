<?xml version="1.0" encoding="UTF-8"?>
<topic template="Default" lasteditedby="Kot" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="helpproject.xsd">
  <title translate="true">property</title>
  <body>
    <header>
      <para style="margin-bottom:2px; margin-left:4px;"><anchor id="hdr" styleclass="Heading1"></anchor><text style="font-family:Verdana; font-size:10pt; font-weight:bold; color:#000000;" translate="true">property</text></para>
    </header>
    <para><table rowcount="1" colcount="1" style="width:100%; cell-padding:1px; cell-spacing:0px; page-break-inside:auto; border-width:0px; border-spacing:0px; border-collapse:collapse; cell-border-width:0px; border-style:none; background-color:#99ccff; head-row-background-color:none; alt-row-background-color:none;">
      <tr style="vertical-align:top">
        <td style="vertical-align:middle;">
          <para><anchor id="hdr" style="font-family:Arial; font-size:10pt; color:#000000;"></anchor><text style="font-family:Verdana; font-size:8pt; font-style:italic; color:#000000;" translate="true">C++ Бъерн Страуструп</text></para>
        </td>
      </tr>
    </table></para>
    <para styleclass="Normal" style="margin-top:6px; margin-left:79px; line-height:1.0; page-break-after:auto; tabstops:none;"></para>
    <para styleclass="Normal" style="text-align:justify; margin-top:6px; margin-left:79px; line-height:1.0; background-color:#ffffff; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:Verdana; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#ff0000;" translate="true">! property работает не на всех компиляторах, &#160;property нет в стандарте языка С \ С++</text></para>
    <para styleclass="Normal" style="text-align:justify; margin-top:6px; margin-left:79px; line-height:1.0; background-color:#ffffff; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:Verdana; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000000;" translate="true">&#32;</text></para>
    <para styleclass="Normal" style="text-align:justify; margin-top:6px; margin-left:79px; line-height:1.0; background-color:#ffffff; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:Verdana; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000000;" translate="true">Microsoft Visual C++ добавили в синтаксис языка несколько &quot;Microsoft Specific&quot; конструкций. В частности, модификатор __declspec получил дополнительный параметр &quot;property&quot;. Теперь в классе можно объявить &quot;виртуальную&quot; переменную и связать её с соответствующими функциями. Теперь класс может выглядеть примерно так:</text></para>
    <para style="margin-top:5px; margin-right:5px; margin-bottom:5px; margin-left:84px;"><table rowcount="1" colcount="1" style="width:98%; cell-padding:1px; cell-spacing:2px; page-break-inside:auto; border-width:0px; border-spacing:2px; cell-border-width:0px; border-style:none; background-color:#f4f4f4; head-row-background-color:none; alt-row-background-color:none;">
      <tr style="vertical-align:top">
        <td style="vertical-align:middle; background-color:#f4f4f4;">
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text style="font-family:&apos;Courier New&apos;; font-size:9pt; color:#0000ff;" translate="true">class</text><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> CValue</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true">{</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text style="font-family:&apos;Courier New&apos;; font-size:9pt; color:#0000ff;" translate="true">private</text><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true">:</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> &#160; &#160;</text><text style="font-family:&apos;Courier New&apos;; font-size:9pt; color:#0000ff;" translate="true">int</text><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> m_value;</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text style="font-family:&apos;Courier New&apos;; font-size:9pt; color:#0000ff;" translate="true">public</text><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true">:</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> &#160; &#160;</text><text style="font-family:&apos;Courier New&apos;; font-size:9pt; color:#0000ff;" translate="true">__declspec</text><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true">(property(get=get_Value, put=put_Value)) </text><text style="font-family:&apos;Courier New&apos;; font-size:9pt; color:#0000ff;" translate="true">int</text><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> Value;</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> &#160; &#160;</text><text style="font-family:&apos;Courier New&apos;; font-size:9pt; color:#0000ff;" translate="true">int</text><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> get_Value()</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> &#160; &#160;{</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> &#160; &#160; &#160; &#160;</text><text style="font-family:&apos;Courier New&apos;; font-size:9pt; color:#0000ff;" translate="true">return</text><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> m_value; &#160; &#160; </text><text styleclass="Comment" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#008800;" translate="true">// Или более сложная логика</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> &#160; &#160;}</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> &#160; &#160;</text><text style="font-family:&apos;Courier New&apos;; font-size:9pt; color:#0000ff;" translate="true">void</text><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> put_Value(</text><text style="font-family:&apos;Courier New&apos;; font-size:9pt; color:#0000ff;" translate="true">int</text><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> value)</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> &#160; &#160;{</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> &#160; &#160; &#160; &#160;m_value = value; &#160; &#160; </text><text styleclass="Comment" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#008800;" translate="true">// Или более сложная логика</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> &#160; &#160;}</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true">};</text></para>
        </td>
      </tr>
    </table></para>
    <para styleclass="Normal" style="text-align:justify; margin-top:6px; margin-left:79px; line-height:1.0; background-color:#ffffff; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:Verdana; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000000;" translate="true">Строчка сразу за &quot;public:&quot; объявляет &quot;виртуальную&quot; переменную типа int, при обращении к которой фактически будут вызваться функции. С этим классом можно будет работать примерно так:</text></para>
    <para style="margin-top:5px; margin-right:5px; margin-bottom:5px; margin-left:84px;"><table rowcount="1" colcount="1" style="width:98%; cell-padding:1px; cell-spacing:2px; page-break-inside:auto; border-width:0px; border-spacing:2px; cell-border-width:0px; border-style:none; background-color:#f4f4f4; head-row-background-color:none; alt-row-background-color:none;">
      <tr style="vertical-align:top">
        <td style="vertical-align:middle; background-color:#f4f4f4;">
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true">CValue val;</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true">val.Value = </text><text style="font-family:&apos;Courier New&apos;; font-size:9pt; color:#000000;" translate="true">50</text><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true">; &#160; &#160; &#160; &#160;</text><text styleclass="Comment" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#008800;" translate="true">// На самом деле вызов put_Value()</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text style="font-family:&apos;Courier New&apos;; font-size:9pt; color:#0000ff;" translate="true">int</text><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> z = val.Value; &#160; &#160;</text><text styleclass="Comment" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#008800;" translate="true">// На самом деле вызов get_Value()</text></para>
        </td>
      </tr>
    </table></para>
    <para styleclass="Normal" style="text-align:justify; margin-top:6px; margin-left:79px; line-height:1.0; background-color:#ffffff; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:Verdana; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000000;" translate="true">Чем не &quot;настоящие&quot; свойства? Однако следует заметить, что модификатор __declspec(property) был введён не для повседневного использования, а для встроенной в компилятор поддержки технологии СОМ. Дело в том, что директива импорта библиотеки типа (чтобы знать, что это такое, читайте книжки по COM) #import заставляет компилятор VC автоматически генерировать вспомогательные классы-обёртки для объектов СОМ. Вот в этих &quot;автоматических&quot; классах модификатор __declspec(property) используется достаточно широко для максимальной приближенности к синтаксису Visual Basic&apos;а. Приближенность к синтаксису VB достигает такой степени, что свойства сделаны индексными. Для этого, достаточно поставить квадратные скобки после объявления &quot;виртуальной переменной&quot;:</text></para>
    <para style="margin-top:5px; margin-right:5px; margin-bottom:5px; margin-left:84px;"><table rowcount="1" colcount="1" style="width:98%; cell-padding:1px; cell-spacing:2px; page-break-inside:auto; border-width:0px; border-spacing:2px; cell-border-width:0px; border-style:none; background-color:#f4f4f4; head-row-background-color:none; alt-row-background-color:none;">
      <tr style="vertical-align:top">
        <td style="vertical-align:middle; background-color:#f4f4f4;">
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text style="font-family:&apos;Courier New&apos;; font-size:9pt; color:#0000ff;" translate="true">__declspec</text><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true">(property(get=get_Value, put=put_Value)) </text><text style="font-family:&apos;Courier New&apos;; font-size:9pt; color:#0000ff;" translate="true">int</text><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> Value [];</text></para>
        </td>
      </tr>
    </table></para>
    <para styleclass="Normal" style="text-align:justify; margin-top:6px; margin-left:79px; line-height:1.0; background-color:#ffffff; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:Verdana; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000000;" translate="true">После такого объявления свойство &quot;Value&quot; может принимать один или несколько параметров-индексов, передаваемых в квадратных скобках. Так, например, вызов</text></para>
    <para style="margin-top:5px; margin-right:5px; margin-bottom:5px; margin-left:84px;"><table rowcount="1" colcount="1" style="width:98%; cell-padding:1px; cell-spacing:2px; page-break-inside:auto; border-width:0px; border-spacing:2px; cell-border-width:0px; border-style:none; background-color:#f4f4f4; head-row-background-color:none; alt-row-background-color:none;">
      <tr style="vertical-align:top">
        <td style="vertical-align:middle; background-color:#f4f4f4;">
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true">Val.Value[</text><text style="font-family:&apos;Courier New&apos;; font-size:9pt; color:#000000;" translate="true">f</text><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true">][</text><text style="font-family:&apos;Courier New&apos;; font-size:9pt; color:#007777;" translate="true">&quot;two&quot;</text><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true">] = </text><text style="font-family:&apos;Courier New&apos;; font-size:9pt; color:#000000;" translate="true">10</text><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true">;</text></para>
        </td>
      </tr>
    </table></para>
    <para styleclass="Normal" style="text-align:justify; margin-top:6px; margin-left:79px; line-height:1.0; background-color:#ffffff; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:Verdana; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000000;" translate="true">Будет преобразован в вызов функции</text></para>
    <para style="margin-top:5px; margin-right:5px; margin-bottom:5px; margin-left:84px;"><table rowcount="1" colcount="1" style="width:98%; cell-padding:1px; cell-spacing:2px; page-break-inside:auto; border-width:0px; border-spacing:2px; cell-border-width:0px; border-style:none; background-color:#f4f4f4; head-row-background-color:none; alt-row-background-color:none;">
      <tr style="vertical-align:top">
        <td style="vertical-align:middle; background-color:#f4f4f4;">
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true">Val.put_Value(</text><text style="font-family:&apos;Courier New&apos;; font-size:9pt; color:#000000;" translate="true">f</text><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true">, </text><text style="font-family:&apos;Courier New&apos;; font-size:9pt; color:#007777;" translate="true">&quot;two&quot;</text><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true">, </text><text style="font-family:&apos;Courier New&apos;; font-size:9pt; color:#000000;" translate="true">10</text><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true">);</text></para>
        </td>
      </tr>
    </table></para>
    <para styleclass="Normal" style="text-align:justify; margin-top:6px; margin-left:79px; line-height:1.0; background-color:#ffffff; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:Verdana; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000000;" translate="true">Главным недостатком описанного выше способа использования свойств в C++ является его зависимость от компилятора, пресловутая &quot;Microsoft Specific&quot;. Впрочем, другой, не менее известный компилятор &quot;Borland C++ Builder&quot; реализует концепцию свойств далёким от стандарта способом. В любом случае часто требуется (или хочется) достичь независимости от компилятора и соответствия кода программы стандарту C++. Что же делать? Оказывается язык C++ позволяет реализовать концепцию свойств в стиле Visual Basic&apos;а. Для этого необходимо воспользоваться шаблонами и перекрыть операторы присваивания и приведения типа. Но для начала необходимо провести некоторую подготовительную работу:</text></para>
    <para style="margin-top:5px; margin-right:5px; margin-bottom:5px; margin-left:84px;"><table rowcount="1" colcount="1" style="width:98%; cell-padding:1px; cell-spacing:2px; page-break-inside:auto; border-width:0px; border-spacing:2px; cell-border-width:0px; border-style:none; background-color:#f4f4f4; head-row-background-color:none; alt-row-background-color:none;">
      <tr style="vertical-align:top">
        <td style="vertical-align:middle; background-color:#f4f4f4;">
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Comment" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#008800;" translate="true">// Базовый класс шаблона свойства.</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text style="font-family:&apos;Courier New&apos;; font-size:9pt; color:#0000ff;" translate="true">template</text><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> &lt;</text><text style="font-family:&apos;Courier New&apos;; font-size:9pt; color:#0000ff;" translate="true">typename</text><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> proptype, </text><text style="font-family:&apos;Courier New&apos;; font-size:9pt; color:#0000ff;" translate="true">typename</text><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> propowner&gt; </text><text style="font-family:&apos;Courier New&apos;; font-size:9pt; color:#0000ff;" translate="true">class</text><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> property</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true">{</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text style="font-family:&apos;Courier New&apos;; font-size:9pt; color:#0000ff;" translate="true">protected</text><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true">:</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> &#160; &#160;</text><text style="font-family:&apos;Courier New&apos;; font-size:9pt; color:#0000ff;" translate="true">typedef</text><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> proptype (propowner::*getter)();</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> &#160; &#160;</text><text style="font-family:&apos;Courier New&apos;; font-size:9pt; color:#0000ff;" translate="true">typedef</text><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true">&#32;</text><text style="font-family:&apos;Courier New&apos;; font-size:9pt; color:#0000ff;" translate="true">void</text><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> (propowner::*setter)(proptype);</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> &#160; &#160;propowner * m_owner;</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> &#160; &#160;getter m_getter;</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> &#160; &#160;setter m_setter;</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text style="font-family:&apos;Courier New&apos;; font-size:9pt; color:#0000ff;" translate="true">public</text><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true">:</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> &#160; &#160;</text><text styleclass="Comment" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#008800;" translate="true">// Оператор приведения типа. Реализует свойство для чтения.</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> &#160; &#160;</text><text style="font-family:&apos;Courier New&apos;; font-size:9pt; color:#0000ff;" translate="true">operator</text><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> proptype()</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> &#160; &#160;{</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> &#160; &#160; &#160; &#160;</text><text styleclass="Comment" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#008800;" translate="true">// Здесь может быть проверка &quot;m_owner&quot; и &quot;m_getter&quot; на NULL</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> &#160; &#160; &#160; &#160;</text><text style="font-family:&apos;Courier New&apos;; font-size:9pt; color:#0000ff;" translate="true">return</text><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> (m_owner-&gt;*m_getter)();</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> &#160; &#160;}</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> &#160; &#160;</text><text styleclass="Comment" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#008800;" translate="true">// Оператор присваивания. Реализует свойство для записи.</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> &#160; &#160;</text><text style="font-family:&apos;Courier New&apos;; font-size:9pt; color:#0000ff;" translate="true">void</text><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true">&#32;</text><text style="font-family:&apos;Courier New&apos;; font-size:9pt; color:#0000ff;" translate="true">operator</text><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> =(proptype data)</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> &#160; &#160;{</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> &#160; &#160; &#160; &#160;</text><text styleclass="Comment" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#008800;" translate="true">// Здесь может быть проверка &quot;m_owner&quot; и &quot;m_setter&quot; на NULL</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> &#160; &#160; &#160; &#160;(m_owner-&gt;*m_setter)(data);</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> &#160; &#160;}</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> &#160; &#160;</text><text styleclass="Comment" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#008800;" translate="true">// Конструктор по умолчанию.</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> &#160; &#160;property() :</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> &#160; &#160; &#160; &#160;m_owner(NULL),</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> &#160; &#160; &#160; &#160;m_getter(NULL),</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> &#160; &#160; &#160; &#160;m_setter(NULL)</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> &#160; &#160;{</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> &#160; &#160;}</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> &#160; &#160;</text><text styleclass="Comment" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#008800;" translate="true">//Конструктор инициализации.</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> &#160; &#160;property(propowner * </text><text style="font-family:&apos;Courier New&apos;; font-size:9pt; color:#0000ff;" translate="true">const</text><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> owner, getter getmethod, setter setmethod) :</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> &#160; &#160; &#160; &#160;m_owner(owner),</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> &#160; &#160; &#160; &#160;m_getter(getmethod),</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> &#160; &#160; &#160; &#160;m_setter(setmethod)</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> &#160; &#160;{</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> &#160; &#160;}</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> &#160; &#160;</text><text styleclass="Comment" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#008800;" translate="true">// Инициализация</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> &#160; &#160;</text><text style="font-family:&apos;Courier New&apos;; font-size:9pt; color:#0000ff;" translate="true">void</text><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> init(propowner * </text><text style="font-family:&apos;Courier New&apos;; font-size:9pt; color:#0000ff;" translate="true">const</text><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> owner, getter getmethod, setter setmethod)</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> &#160; &#160;{</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> &#160; &#160; &#160; &#160;m_owner = owner;</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> &#160; &#160; &#160; &#160;m_getter = getmethod;</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> &#160; &#160; &#160; &#160;m_setter = setmethod;</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> &#160; &#160;}</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true">};</text></para>
        </td>
      </tr>
    </table></para>
    <para styleclass="Normal" style="text-align:justify; margin-top:6px; margin-left:79px; line-height:1.0; background-color:#ffffff; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:Verdana; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000000;" translate="true">Теперь класс, реализующий свойство можно написать так:</text></para>
    <para style="margin-top:5px; margin-right:5px; margin-bottom:5px; margin-left:84px;"><table rowcount="1" colcount="1" style="width:98%; cell-padding:1px; cell-spacing:2px; page-break-inside:auto; border-width:0px; border-spacing:2px; cell-border-width:0px; border-style:none; background-color:#f4f4f4; head-row-background-color:none; alt-row-background-color:none;">
      <tr style="vertical-align:top">
        <td style="vertical-align:middle; background-color:#f4f4f4;">
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text style="font-family:&apos;Courier New&apos;; font-size:9pt; color:#0000ff;" translate="true">class</text><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> CValue</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true">{</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text style="font-family:&apos;Courier New&apos;; font-size:9pt; color:#0000ff;" translate="true">private</text><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true">:</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> &#160; &#160;</text><text style="font-family:&apos;Courier New&apos;; font-size:9pt; color:#0000ff;" translate="true">int</text><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> m_value;</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> &#160; &#160;</text><text style="font-family:&apos;Courier New&apos;; font-size:9pt; color:#0000ff;" translate="true">int</text><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> get_Value()</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> &#160; &#160;{</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> &#160; &#160; &#160; &#160;</text><text style="font-family:&apos;Courier New&apos;; font-size:9pt; color:#0000ff;" translate="true">return</text><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> m_value; &#160; &#160;</text><text styleclass="Comment" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#008800;" translate="true">// Или более сложная логика</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> &#160; &#160;}</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> &#160; &#160;</text><text style="font-family:&apos;Courier New&apos;; font-size:9pt; color:#0000ff;" translate="true">void</text><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> put_Value(</text><text style="font-family:&apos;Courier New&apos;; font-size:9pt; color:#0000ff;" translate="true">int</text><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> value)</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> &#160; &#160;{</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> &#160; &#160; &#160; &#160;m_value = value; &#160; &#160; </text><text styleclass="Comment" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#008800;" translate="true">// Или более сложная логика</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> &#160; &#160;}</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text style="font-family:&apos;Courier New&apos;; font-size:9pt; color:#0000ff;" translate="true">public</text><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true">:</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> &#160; &#160;property &lt;</text><text style="font-family:&apos;Courier New&apos;; font-size:9pt; color:#0000ff;" translate="true">int</text><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true">, CValue&gt; Value;</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> &#160; &#160;CValue()</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> &#160; &#160;{</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> &#160; &#160; &#160; &#160;Value.init(</text><text style="font-family:&apos;Courier New&apos;; font-size:9pt; color:#0000ff;" translate="true">this</text><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true">, get_Value, put_Value);</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> &#160; &#160;}</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true">};</text></para>
        </td>
      </tr>
    </table></para>
    <para styleclass="Normal" style="text-align:justify; margin-top:6px; margin-left:79px; line-height:1.0; background-color:#ffffff; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:Verdana; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000000;" translate="true">А вот код, использующий этот класс:</text></para>
    <para style="margin-top:5px; margin-right:5px; margin-bottom:5px; margin-left:84px;"><table rowcount="1" colcount="1" style="width:98%; cell-padding:1px; cell-spacing:2px; page-break-inside:auto; border-width:0px; border-spacing:2px; cell-border-width:0px; border-style:none; background-color:#f4f4f4; head-row-background-color:none; alt-row-background-color:none;">
      <tr style="vertical-align:top">
        <td style="vertical-align:middle; background-color:#f4f4f4;">
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true">CValue val;</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Comment" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#008800;" translate="true">/*</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Comment" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#008800;" translate="true">Здесь вызывается оператор присваивания переменной-члена val.Value,</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Comment" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#008800;" translate="true">и, следовательно, функция val.put_Value()</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Comment" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#008800;" translate="true">*/</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true">val.Value = </text><text style="font-family:&apos;Courier New&apos;; font-size:9pt; color:#000000;" translate="true">50</text><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true">;</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Comment" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#008800;" translate="true">/*</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Comment" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#008800;" translate="true">Здесь вызывается оператор приведения типа переменной-члена val.Value,</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Comment" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#008800;" translate="true">и, следовательно, функция val.get_Value()</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text styleclass="Comment" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#008800;" translate="true">*/</text></para>
          <para styleclass="Normal" style="margin-left:10px; line-height:1.0; white-space:nowrap; page-break-after:auto; tabstops:none;"><text style="font-family:&apos;Courier New&apos;; font-size:9pt; color:#0000ff;" translate="true">int</text><text styleclass="Normal" style="font-family:&apos;Courier New&apos;; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000066;" translate="true"> z = val.Value;</text></para>
        </td>
      </tr>
    </table></para>
    <para styleclass="Normal" style="text-align:justify; margin-top:6px; margin-left:79px; line-height:1.0; background-color:#ffffff; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:Verdana; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000000;" translate="true">Как можно видеть, получились &quot;настоящие&quot; свойства средствами только стандартного синтаксиса С++. Однако, описанный метод не лишен недостатков:</text></para>
    <list id="3" level="1" type="ul" listtype="bullet" formatstring="&#167;" format-charset="RUSSIAN_CHARSET" levelreset="true" legalstyle="false" startfrom="1" styleclass="Normal" style="text-align:justify; text-indent:-13px; margin-left:136px; line-height:1.0; page-break-after:auto; tabstops:none; font-family:Wingdings; font-size:9pt; color:#000000;">
      <li styleclass="Normal" style="text-align:justify; text-indent:-13px; margin-left:136px; line-height:1.0; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:Verdana; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000000;" translate="true">При каждом обращении к &quot;свойству&quot; происходит два вызова функции.</text></li>
      <li styleclass="Normal" style="text-align:justify; text-indent:-13px; margin-top:6px; margin-left:136px; line-height:1.0; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:Verdana; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000000;" translate="true">Использование таких &quot;свойств&quot; требует дополнительных затрат памяти из-за того, что на каждое &quot;свойство&quot; требуется 3 дополнительных указателя, что составляет 12 байт накладных расходов.</text></li>
      <li styleclass="Normal" style="text-align:justify; text-indent:-13px; margin-top:6px; margin-left:136px; line-height:1.0; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:Verdana; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000000;" translate="true">Использование шаблонов приводит к увеличению размеров исполняемого кода, поскольку компилятор будет генерировать отдельный класс для каждой пары &quot;proptype&quot; и &quot;propowner&quot;.</text></li>
      <li styleclass="Normal" style="text-align:justify; text-indent:-13px; margin-top:6px; margin-bottom:6px; margin-left:136px; line-height:1.0; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:Verdana; font-size:9pt; text-decoration:none; vertical-align:baseline; color:#000000;" translate="true">Для каждого &quot;свойства&quot; необходимо не забыть произвести инициализацию в конструкторе класса-владельца.</text></li>
    </list>
    <para><line style="height:1px; color:#999999;" /></para>
    <para styleclass="Normal" style="margin-top:10px; margin-bottom:6px; line-height:1.0; page-break-after:auto; tabstops:none;"><text styleclass="Normal" style="font-family:Verdana; font-size:8pt; font-style:italic; text-decoration:none; vertical-align:baseline; color:#000000;" translate="true"> Copyright ©2011 </text><text styleclass="Normal" style="font-family:Verdana; font-size:8pt; font-style:italic; text-decoration:none; vertical-align:baseline; color:#0000ff;" translate="true">C++</text><text styleclass="Normal" style="font-family:Verdana; font-size:8pt; font-style:italic; text-decoration:none; vertical-align:baseline; color:#000000;" translate="true">. All Rights Reserved.</text></para>
  </body>
</topic>
